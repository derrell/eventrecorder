{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/eventrecorder/source/class/cboulanger/eventrecorder/player/Qooxdoo.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "cboulanger",
    "eventrecorder",
    "player",
    "Abstract",
    "implement",
    "IPlayer",
    "properties",
    "canReplayInBrowser",
    "refine",
    "init",
    "members",
    "getExportFileExtension",
    "translate",
    "script",
    "lines",
    "_translate",
    "split",
    "map",
    "line",
    "startsWith",
    "filter",
    "Boolean",
    "unshift",
    "push",
    "join",
    "cmd_info",
    "text",
    "getMode",
    "cmd_hide_info",
    "cmd_widget_info",
    "id",
    "cmd_delay",
    "delayInMs",
    "Math",
    "min",
    "getMaxDelay",
    "cmd_wait",
    "timeInMs",
    "cmd_await_property_value",
    "property",
    "value",
    "generateWaitForConditionCode",
    "lang",
    "String",
    "firstUp",
    "JSON",
    "stringify",
    "replace",
    "cmd_await_property_match_json",
    "json",
    "Type",
    "isString",
    "regExLiteral",
    "createRegexpForJsonComparison",
    "timeoutmsg",
    "type",
    "generateWaitForEventCode",
    "cmd_await_event",
    "generateWaitForEventTimoutFunction",
    "undefined",
    "_globalRef",
    "cmd_await_event_data",
    "data",
    "e",
    "Error",
    "cmd_await_event_match_json",
    "cmd_assert_appeared",
    "cmd_check_appear",
    "cmd_assert_disappeared",
    "cmd_check_disappear",
    "cmd_execute",
    "cmd_fire",
    "event",
    "cmd_tap",
    "cmd_dbltap",
    "cmd_set_value",
    "cmd_await_value",
    "cmd_open_tree_node",
    "nodeIndex",
    "cmd_close_tree_node",
    "cmd_open_tree_node_treevirtual",
    "cmd_close_tree_node_treevirtual",
    "cmd_set_selection",
    "selectedId",
    "cmd_await_selection",
    "cmd_set_model_selection",
    "indexArray",
    "cmd_set_selection_from_selectables",
    "index",
    "cmd_await_selection_from_selectables",
    "cmd_reset_selection",
    "cmd_set_table_selection",
    "interval",
    "cmd_set_row_selection",
    "rowIndex",
    "Qooxdoo"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n  UI Event Recorder\n\n  Copyright:\n    2018 Christian Boulanger\n\n  License:\n    MIT license\n    See the LICENSE file in the project's top-level directory for details.\n\n  Authors: Christian Boulanger\n\n\n************************************************************************ */\n\n/**\n * This is an event player that works in the client\n */\nqx.Class.define(\"cboulanger.eventrecorder.player.Qooxdoo\", {\n\n  extend: cboulanger.eventrecorder.player.Abstract,\n  implement: [cboulanger.eventrecorder.IPlayer],\n\n  properties: {\n    canReplayInBrowser: {\n      refine: true,\n      init: true\n    }\n  },\n\n  members:\n  {\n\n    /**\n     * @inheritDoc\n     */\n    getExportFileExtension() {\n      return \"js\";\n    },\n\n    /**\n     * Translates the intermediate code into the target language\n     * @param script\n     * @return {string} executable code\n     */\n    translate(script) {\n      let lines = this._translate(script)\n        .split(/\\n/)\n        .map(line => (line.startsWith(\"(\") ? `await ${line};` : line))\n        .filter(line => Boolean(line))\n        .map(line => \"  \" + line);\n      lines.unshift(\"async function test() {\");\n      lines.push(\"}\");\n      return lines.join(\"\\n\");\n    },\n\n    /*\n    ============================================================================\n       COMMANDS\n    ============================================================================\n    */\n\n    /**\n     * @inheritDoc\n     */\n    cmd_info(text) {\n      if (this.getMode() === \"presentation\") {\n        return `cboulanger.eventrecorder.InfoPane.getInstance().useIcon(\"info\").display(\"${text}\");`;\n      }\n      return `console.log(\"${text}\");`;\n    },\n\n    /**\n     * @inheritDoc\n     */\n    cmd_hide_info(text) {\n      if (this.getMode() === \"presentation\") {\n        return `cboulanger.eventrecorder.InfoPane.getInstance().hide();`;\n      }\n      return \"\";\n    },\n\n    /**\n     * @inheritDoc\n     */\n    cmd_widget_info(id, text) {\n      if (this.getMode() === \"presentation\") {\n        return `cboulanger.eventrecorder.InfoPane.getInstance().useIcon(\"info\").display(\"${text}\",qx.core.Id.getQxObject(\"${id}\"));`;\n      }\n      return \"\";\n    },\n\n    /**\n     * Generates code that causes the given delay (in milliseconds).\n     * The delay is capped by the {@link #cboulanger.eventrecorder.player.Abstract#maxDelay} property\n     * and will only be caused in presentation mode\n     * @param delayInMs {Number}\n     * @return {string}\n     */\n    cmd_delay(delayInMs) {\n      delayInMs = Math.min(delayInMs, this.getMaxDelay());\n      return this.getMode() === \"presentation\" && delayInMs > 0 ? `(new Promise(resolve => setTimeout(resolve,${delayInMs})))`:\"\";\n    },\n\n    /**\n     * Generates code that waits the given time in milliseconds, regardless of player mode\n     * @param timeInMs {Number}\n     * @return {string}\n     */\n    cmd_wait(timeInMs) {\n      return `(new Promise(resolve => setTimeout(resolve,${timeInMs})))`;\n    },\n\n    /**\n     * @inheritDoc\n     */\n    cmd_await_property_value(id, property, value) {\n      return this.generateWaitForConditionCode(`JSON.stringify(qx.core.Id.getQxObject(\"${id}\").get${qx.lang.String.firstUp(property)}())==='${JSON.stringify(value).replace(/'/, \"\\\\'\")}'`);\n    },\n\n    /**\n     * @inheritDoc\n     */\n    cmd_await_property_match_json(id, property, json) {\n      if (!qx.lang.Type.isString(json)) {\n        json = JSON.stringify(json);\n      }\n      let regExLiteral = this.createRegexpForJsonComparison(json);\n      let timeoutmsg = `Timeout waiting for ID(${id}).${property} to match /${regExLiteral.replace(/\\\\/, \"\\\\\\\\\").replace(/\"/g, \"\\\\\\\"\")}/.`;\n      let type = \"change\" + qx.lang.String.firstUp(property);\n      return this.generateWaitForEventCode(id, type, `{verbatim}/${regExLiteral}/`, timeoutmsg);\n    },\n\n    /**\n     * Generates code that returns a promise which resolves when the object with\n     * the given id fires an event with the given name.\n     * @param id {String} The id of the object\n     * @param type {String} The type of the event\n     * @return {*|string}\n     */\n    cmd_await_event(id, type) {\n      if (this.getMode()===\"presentation\") {\n        return this.generateWaitForEventTimoutFunction(id, type, undefined, `if (window[\"${this._globalRef}\"].isRunning()) cboulanger.eventrecorder.InfoPane.getInstance().show().animate(); else return resolve(false)`);\n      }\n      return this.generateWaitForEventCode(id, type);\n    },\n\n    /**\n     * @inheritDoc\n     */\n    cmd_await_event_data(id, type, data) {\n      if (data !== undefined) {\n        try {\n          JSON.stringify(data);\n        } catch (e) {\n          throw new Error(\"Data must be serializable to JSON\");\n        }\n      }\n      if (this.getMode() === \"presentation\") {\n        return this.generateWaitForEventTimoutFunction(id, type, data, `if (window[\"${this._globalRef}\"].isRunning()) cboulanger.eventrecorder.InfoPane.getInstance().show().animate(); else return resolve();`);\n      }\n      return this.generateWaitForEventCode(id, type, data);\n    },\n\n    /**\n     * @inheritDoc\n     */\n    cmd_await_event_match_json(id, type, json) {\n      if (this.getMode()===\"presentation\") {\n        return this.generateWaitForEventTimoutFunction(id, type, json, `if (window[\"${this._globalRef}\"].isRunning()) cboulanger.eventrecorder.InfoPane.getInstance().show().animate(); else return resolve();`);\n      }\n      return this.generateWaitForEventCode(id, type, json);\n    },\n\n    /**\n     * Generates code that returns a promise with resolves when the object with the given id becomes visible and rejects\n     * if the timeout is reached before that happens.\n     * @param id {String}\n     * @return {String}\n     */\n    cmd_assert_appeared(id) {\n      return `if(!qx.core.Id.getQxObject(\"${id}\").isVisible()) throw new Error(\"Failed: Object with id ${id} is not visible.\")`;\n    },\n\n    /**\n     * @deprecated\n     */\n    cmd_check_appear: this.cmd_assert_appeared,\n\n    /**\n     * Generates code that returns a promise with resolves when the object with the given id disappears and rejects\n     * if the timeout is reached before that happens.\n     * @param id {String}\n     * @return {String}\n     */\n    cmd_assert_disappeared(id) {\n      return `if (qx.core.Id.getQxObject(\"${id}\").isVisible()) throw new Error(\"Failed: Object with id ${id} is visible.\")`;\n    },\n\n    /**\n     * @deprecated\n     */\n    cmd_check_disappear: this.cmd_assert_disappeared,\n\n    /**\n     * @inheritDoc\n     * @return {String}\n     */\n    cmd_execute(id) {\n      return `qx.core.Id.getQxObject(\"${id}\").fireEvent(\"execute\");`;\n    },\n\n    /**\n     * Generates code that fires an event with the given payload on the object with the given id (Button, Command)\n     * @param id {String}\n     * @param event {String}\n     * @param json {*}\n     * @return {String}\n     */\n    cmd_fire(id, event, json) {\n      if (json) {\n        if (!qx.lang.Type.isString(json)) {\n          json = JSON.stringify(json);\n        }\n        return `qx.core.Id.getQxObject(\"${id}\").fireDataEvent(\"${event}\",${json});`;\n      }\n      return `qx.core.Id.getQxObject(\"${id}\").fireEvent(\"${event}\");`;\n    },\n\n    /**\n    * Generates code that fires an `tap` event on the object with the given id (Button, Command)\n    * @param id {String}\n    * @return {String}\n    */\n    cmd_tap(id) {\n      // doesn't work yet because it needs mouse data etc.\n      return \"\";\n      //return `qx.core.Id.getQxObject(\"${id}\").fireEvent(\"tap\", qx.event.type.Tap);`;\n    },\n\n    /**\n    * Generates code that fires an `dbltap` event on the object with the given id (Button, Command)\n    * @param id {String}\n    * @return {String}\n    */\n    cmd_dbltap(id) {\n      // doesn't work yet because it needs mouse data etc.\n      return \"\";\n      //return `qx.core.Id.getQxObject(\"${id}\").fireEvent(\"dbltap\", qx.event.type.Tap);`;\n    },\n\n    /**\n     * @inheritDoc\n     */\n    cmd_set_value(id, data) {\n      return `qx.core.Id.getQxObject(\"${id}\").setValue(${JSON.stringify(data)});`;\n    },\n\n    /**\n     * @inheritDoc\n     */\n    cmd_await_value(id, value) {\n      return this.cmd_await_property_value(id, \"value\", value);\n    },\n\n    /**\n     * Generates code that opens a the node with the given node id on the {@link qx.ui.tree.VirtualTree} with the given id\n     * @param id {String} The id of the {@link qx.ui.tree.VirtualTree}\n     * @param nodeIndex {String|Number} The index of the node in the tree data model\n     * @return {String}\n     */\n    cmd_open_tree_node(id, nodeIndex) {\n      return `let t = qx.core.Id.getQxObject(\"${id}\"); t.openNode(t.getLookupTable().getItem(${nodeIndex}));`;\n    },\n\n    /**\n     * Generates code that closes a the node with the given node id on the {@link qx.ui.tree.VirtualTree} with the given id\n     * @param id {String} Id of the {@link qx.ui.treevirtual.TreeVirtual}\n     * @param nodeIndex {String|Number} The index of the node in the tree data model\n     * @return {String}\n     */\n    cmd_close_tree_node(id, nodeIndex) {\n      return `let t = qx.core.Id.getQxObject(\"${id}\"); t.closeNode(t.getLookupTable().getItem(${nodeIndex}));`;\n    },\n\n    /**\n     * Generates code that opens a the node with the given node id on the {@link qx.ui.treevirtual.TreeVirtual} with the given id\n     * @param id {String} Id of the {@link qx.ui.treevirtual.TreeVirtual}\n     * @param nodeIndex {String|Number} The index of the node in the tree data model\n     * @return {String}\n     */\n    cmd_open_tree_node_treevirtual(id, nodeIndex) {\n      return `qx.core.Id.getQxObject(\"${id}\").getDataModel().setState(${nodeIndex},{bOpened:true});`;\n    },\n\n    /**\n     * Generates code that closes a the node with the given node id on the {@link qx.ui.treevirtual.TreeVirtual} with the given id\n     * @param id {String} Id of the {@link qx.ui.treevirtual.TreeVirtual}\n     * @param nodeIndex {String|Number} The index of the node in the tree data model\n     * @return {String}\n     */\n    cmd_close_tree_node_treevirtual(id, nodeIndex) {\n      return `qx.core.Id.getQxObject(\"${id}\").getDataModel().setState(${nodeIndex},{bOpened:false});`;\n    },\n\n    /**\n     * Generates code that sets a selection for all objects which have a `setSelection` method that\n     * takes an array of qooxdoo widgets that should be selected.\n     * @param id {String} Id of the object ón which the selection is set\n     * @param selectedId {String} The id of the widget that is selected. Only one widget can be selected at this time\n     * @return {String}\n     */\n    cmd_set_selection(id, selectedId) {\n      return `qx.core.Id.getQxObject(\"${id}\").setSelection([qx.core.Id.getQxObject(\"${selectedId}\")]);`;\n    },\n\n    /**\n     * Generates code that awaits a selection for all objects which have a `setSelection` method that\n     * takes an array of qooxdoo widgets that should be selected within the timeout\n     * @param id {String} Id of the object ón which the selection is set\n     * @param selectedId {String} The id of the widget that should be selected\n     * @return {String}\n     */\n    cmd_await_selection(id, selectedId) {\n      let timeoutmsg = `Timeout when waiting for selection of object '${selectedId}' on '${id}'.`;\n      return this.generateWaitForEventCode(id, \"changeSelection\", `{verbatim}[qx.core.Id.getQxObject(\"${selectedId}\")]`, timeoutmsg);\n    },\n\n    /**\n     * Generates code that sets a selection for all (virtual) widgets that have a data model\n     * @param id {String} The id of the widget on which the selection is set\n     * @param indexArray {Array} An array containing the indexes of the models\n     * @return {String}\n     */\n    cmd_set_model_selection(id, indexArray) {\n      return `let o = qx.core.Id.getQxObject(\"${id}\"); o.setSelection(new qx.data.Array(${JSON.stringify(indexArray)}.map(i => o.getModel().getItem(i))));`;\n    },\n\n    /**\n     * Generates code that awaits a selection for all (virtual) widgets that have a data model\n     * @param id {String} The id of the widget on which the selection is set\n     * @param indexArray {Array} An array containing the indexes of the models\n     * @return {String}\n     */\n    // cmd_await_model_selection(id, indexArray) {\n    //\n    //   return `let o = qx.core.Id.getQxObject(\"${id}\"); o.setSelection(new qx.data.Array(${JSON.stringify(indexArray)}.map(i => o.getModel().getItem(i))))`;\n    //   return `(waitForEvent(qx.core.Id.getQxObject(\"${id}\").getSelection(), \"change\",${data}, ${this.getTimeout()}, \"${timeoutmsg||\"Timeout waiting for event '\"+type+\"'\"}\"))`;\n    // },\n\n    /**\n     * @inheritDoc\n     */\n    cmd_set_selection_from_selectables(id, index) {\n      return `let o = qx.core.Id.getQxObject(\"${id}\"); o.setSelection([o.getSelectables()[${index}]]);`;\n    },\n\n    /**\n     * @inheritDoc\n     */\n    cmd_await_selection_from_selectables(id, index) {\n      return this.generateWaitForEventCode(id, \"changeSelection\", `{verbatim}[qx.core.Id.getQxObject(\"${id}\").getSelectables()[${index}]]`);\n    },\n\n    /**\n     * Resets the selection of a widget that has a `selection` property or a `resetSelection` method.\n     * @param id {String} The id of the widget\n     * @return {string}\n     */\n    cmd_reset_selection(id) {\n      return `qx.core.Id.getQxObject(\"${id}\").resetSelection();`;\n    },\n\n    /**\n     * Generates code that sets an selection interval on a {@link qx.ui.table.Table}\n     * @param id {String} The id of a {@link qx.ui.table.Table}\n     * @param interval {String} The first and the last row to be selected, separated by comma.\n     * @return {String}\n     */\n    cmd_set_table_selection(id, interval) {\n      return `qx.core.Id.getQxObject(\"${id}\").addSelectionInterval(${interval});`;\n    },\n\n    /**\n     * Generates code that set the selection on a {@link qx.ui.virtual.selection.Row} object\n     * @param id {String} The id of a qx.ui.virtual.selection.Row object\n     * @param rowIndex {String|Number} The index of the row to be selected\n     * @return {String}\n     */\n    cmd_set_row_selection(id, rowIndex) {\n      return `qx.core.Id.getQxObject(\"${id}\").selectItem(${rowIndex});`;\n    }\n  }\n});\n"
  ]
}